<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>HotOrBot üî•ü§ñ</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üî•</text></svg>">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Impact&family=Inter:wght@400;600;700;900&display=swap');
        *{margin:0;padding:0;box-sizing:border-box}
        body{background:#000;color:#fff;font-family:'Inter',sans-serif;overflow:hidden;height:100vh;height:100dvh;display:flex;flex-direction:column;align-items:center;justify-content:center;-webkit-user-select:none;user-select:none}

        .app{width:100%;max-width:420px;height:100%;display:flex;flex-direction:column;position:relative}

        .top-bar{display:flex;align-items:center;justify-content:center;padding:12px 16px;z-index:10}
        .logo{font-family:'Impact',sans-serif;font-size:1.6rem;text-transform:uppercase}
        .logo .hot{color:#FF4500;text-shadow:0 0 20px rgba(255,69,0,0.6)}
        .logo .or{color:#555;font-size:0.5em;vertical-align:middle;margin:0 0.1em}
        .logo .bot{color:#00BFFF;text-shadow:0 0 20px rgba(0,191,255,0.6)}

        .card-stack{flex:1;position:relative;margin:0 16px;overflow:hidden;border-radius:20px}
        .card{position:absolute;top:0;left:0;width:100%;height:100%;border-radius:20px;overflow:hidden;background:#111;transition:transform 0.4s ease,opacity 0.4s ease}
        .card.exiting-left{transform:translateX(-120%) rotate(-15deg);opacity:0}
        .card.exiting-right{transform:translateX(120%) rotate(15deg);opacity:0}
        .card video{width:100%;height:100%;object-fit:cover;object-position:center 20%;display:block}

        .card-info{position:absolute;bottom:0;left:0;right:0;padding:16px 20px;background:linear-gradient(transparent,rgba(0,0,0,0.9));z-index:2}
        .card-name{font-family:'Impact',sans-serif;font-size:1.6rem;text-transform:uppercase;letter-spacing:1px}
        .card-bio{font-size:0.8rem;color:#ccc;margin-top:2px;line-height:1.3}
        .card-tools{display:flex;flex-wrap:wrap;gap:4px;margin-top:6px}
        .tool-tag{font-size:0.55rem;font-weight:700;padding:3px 7px;border-radius:8px;text-transform:uppercase;letter-spacing:0.5px}
        .tag-heygen{background:rgba(255,165,0,0.25);color:#FFA500;border:1px solid rgba(255,165,0,0.3)}
        .tag-sync{background:rgba(99,102,241,0.25);color:#a5b4fc;border:1px solid rgba(99,102,241,0.3)}
        .tag-elevenlabs{background:rgba(0,200,150,0.25);color:#00c896;border:1px solid rgba(0,200,150,0.3)}
        .tag-openai{background:rgba(255,255,255,0.15);color:#ddd;border:1px solid rgba(255,255,255,0.2)}
        .tag-real{background:rgba(255,69,0,0.25);color:#ff6347;border:1px solid rgba(255,69,0,0.3)}

        .counter{display:flex;justify-content:center;gap:4px;padding:6px 16px}
        .dot{width:7px;height:7px;border-radius:50%;background:#333;transition:background 0.3s}
        .dot.active{background:#FFD700}
        .dot.seen{background:#555}

        .score-bar{display:flex;justify-content:center;gap:16px;padding:2px 16px;font-size:0.7rem;color:#666}
        .score-bar span{color:#999}

        .bottom-area{padding:6px 16px 20px;text-align:center}
        .prompt{font-size:0.9rem;font-weight:700;color:#999;margin-bottom:6px}
        .vote-row{display:flex;gap:10px;justify-content:center}
        .vote-btn{flex:1;max-width:150px;padding:14px;font-family:'Impact',sans-serif;font-size:1.4rem;border:none;border-radius:14px;cursor:pointer;text-transform:uppercase;letter-spacing:2px;transition:all 0.15s;color:#fff;-webkit-tap-highlight-color:transparent}
        .vote-btn:active{transform:scale(0.92)}
        .vote-btn.not{background:linear-gradient(135deg,#333,#444)}
        .vote-btn.hot{background:linear-gradient(135deg,#FF4500,#FF6347);box-shadow:0 4px 20px rgba(255,69,0,0.4)}

        .mute-btn{position:absolute;top:10px;right:10px;z-index:50;background:rgba(0,0,0,0.6);border:none;border-radius:50%;width:40px;height:40px;display:flex;align-items:center;justify-content:center;cursor:pointer;font-size:1.2rem;backdrop-filter:blur(8px);-webkit-tap-highlight-color:transparent}

        .reveal-overlay{position:absolute;top:0;left:0;right:0;bottom:0;display:flex;flex-direction:column;align-items:center;justify-content:center;background:rgba(0,0,0,0.85);z-index:40;border-radius:20px;opacity:0;pointer-events:none;transition:opacity 0.3s;padding:20px;text-align:center}
        .reveal-overlay.show{opacity:1;pointer-events:auto}
        .reveal-title{font-family:'Impact',sans-serif;font-size:1.8rem;text-transform:uppercase;margin:8px 0;color:#a5b4fc}
        .reveal-detail{font-size:0.8rem;color:#aaa;line-height:1.5;max-width:300px}
        .reveal-detail strong{color:#fff}
        .reveal-tap{color:#555;font-size:0.75rem;margin-top:16px}
        @keyframes pop{from{transform:scale(0.3);opacity:0}to{transform:scale(1);opacity:1}}
    </style>
</head>
<body>
    <div class="app">
        <div class="top-bar">
            <div class="logo"><span class="hot">HOT</span><span class="or">or</span><span class="bot">BOT</span></div>
        </div>

        <div class="score-bar">
            <div>üìä <span id="scoreIdx">1</span>/<span id="scoreMax">9</span></div>
        </div>

        <div class="counter" id="counter"></div>

        <div class="card-stack" id="cardStack">
            <div class="reveal-overlay" id="revealOverlay">
                <div class="reveal-title" id="revealTitle"></div>
                <div class="reveal-detail" id="revealDetail"></div>
                <div class="reveal-tap">tap to continue ‚Üí</div>
            </div>
        </div>

        <div class="bottom-area" id="bottomArea">
            <div class="prompt" id="prompt">Swipe or tap</div>
            <div class="vote-row" id="voteRow">
                <button class="vote-btn not" onclick="next(false)">‚ùå NOT</button>
                <button class="vote-btn hot" onclick="next(true)">üî• HOT</button>
            </div>
        </div>
    </div>

    <script>
        const CDN = "https://kxyqdzkoyuzszcyfvpee.supabase.co/storage/v1/object/public/hotorbot";

        const PROFILES = [
            {
                video: `${CDN}/videos/profile_blonde.mp4`,
                name: "Amanda", age: 28,
                bio: "Hiking, hacking on side projects, finding the best tacos üåÆ",
                tools: [
                    {label: "HeyGen Avatar IV", cls: "tag-heygen"},
                    {label: "ElevenLabs Voice Clone", cls: "tag-elevenlabs"},
                    {label: "Photo ‚Üí Video", cls: "tag-heygen"}
                ],
                reveal: "Generated from a <strong>static headshot photo</strong> using HeyGen's Avatar IV model. Voice cloned with ElevenLabs from a 7-second recording. Post-processed with ffmpeg crop pipeline."
            },
            {
                video: `${CDN}/videos/profile_red.mp4`,
                name: "Scarlett", age: 26,
                bio: "Yoga instructor by day, spicy food addict by night üî•",
                tools: [
                    {label: "HeyGen Avatar IV", cls: "tag-heygen"},
                    {label: "ElevenLabs Voice Clone", cls: "tag-elevenlabs"},
                    {label: "Real Red Hair Photo", cls: "tag-real"}
                ],
                reveal: "Source: a <strong>real photo of Amanda with red hair</strong>. HeyGen animated it into a talking video. Same voice clone, different character script."
            },
            {
                video: `${CDN}/videos/profile_brown.mp4`,
                name: "Sofia", age: 27,
                bio: "Startup founder, dog rescuer, espresso martini connoisseur üêï",
                tools: [
                    {label: "HeyGen Avatar IV", cls: "tag-heygen"},
                    {label: "ElevenLabs Voice Clone", cls: "tag-elevenlabs"},
                    {label: "OpenAI gpt-image-1 Hair Edit", cls: "tag-openai"}
                ],
                reveal: "Hair was changed to <strong>brown using OpenAI's gpt-image-1</strong> image editing API. Then HeyGen animated the modified photo into a talking avatar."
            },
            {
                video: `${CDN}/videos/profile_black.mp4`,
                name: "Luna", age: 25,
                bio: "Artist, night owl, and vinyl collector üéµ",
                tools: [
                    {label: "HeyGen Avatar IV", cls: "tag-heygen"},
                    {label: "ElevenLabs Voice Clone", cls: "tag-elevenlabs"},
                    {label: "OpenAI gpt-image-1 Hair Edit", cls: "tag-openai"}
                ],
                reveal: "Hair changed to <strong>black via OpenAI image edit</strong>. HeyGen photo avatar group created from the edited image, then animated with voice clone audio."
            },
            {
                video: `${CDN}/videos/profile_curly.mp4`,
                name: "Tessa", age: 24,
                bio: "Surfer, travel blogger, life's too short for boring dates üèÑ‚Äç‚ôÄÔ∏è",
                tools: [
                    {label: "HeyGen Avatar IV", cls: "tag-heygen"},
                    {label: "ElevenLabs Voice Clone", cls: "tag-elevenlabs"},
                    {label: "OpenAI gpt-image-1 Hair Edit", cls: "tag-openai"}
                ],
                reveal: "Curly hair variant created with <strong>OpenAI gpt-image-1</strong>. Same pipeline: edit photo ‚Üí upload to HeyGen ‚Üí create avatar group ‚Üí generate talking video."
            },
            {
                video: `${CDN}/videos/profile_vid1.mp4`,
                name: "Jade", age: 29,
                bio: "Tech founder who codes by day and dances salsa by night üíÉ",
                tools: [
                    {label: "HeyGen Avatar IV", cls: "tag-heygen"},
                    {label: "ElevenLabs Voice Clone", cls: "tag-elevenlabs"},
                    {label: "Video Frame ‚Üí Photo Avatar", cls: "tag-heygen"}
                ],
                reveal: "A <strong>frame was extracted from a real video clip</strong>, then used as a HeyGen photo avatar. Similar to the photo pipeline but source material came from video."
            },
            {
                video: `${CDN}/videos/profile_vid2.mp4`,
                name: "Mia", age: 26,
                bio: "Photographer, thrift store queen, amateur chef üì∏",
                tools: [
                    {label: "HeyGen Avatar IV", cls: "tag-heygen"},
                    {label: "ElevenLabs Voice Clone", cls: "tag-elevenlabs"},
                    {label: "Video Frame ‚Üí Photo Avatar", cls: "tag-heygen"}
                ],
                reveal: "Another <strong>video-frame-to-photo-avatar</strong> approach. Frame extracted from a different video clip, uploaded as a new avatar group in HeyGen."
            },
            {
                video: `${CDN}/videos/sync_profile_1.mp4`,
                name: "Amanda v2", age: 28,
                bio: "I build apps by day and hunt for the best street tacos by night üåÆ",
                tools: [
                    {label: "Sync Labs lipsync-2", cls: "tag-sync"},
                    {label: "ElevenLabs Voice Clone", cls: "tag-elevenlabs"},
                    {label: "Real Video Lip-Sync", cls: "tag-sync"}
                ],
                reveal: "Completely different approach! <strong>Sync Labs takes the real video</strong> and only modifies the lips to match new audio. Everything else (head movement, lighting, expressions) is the original footage. Note: source video had no talking, so lip sync looks unnatural."
            },
            {
                video: `${CDN}/videos/sync_profile_2.mp4`,
                name: "Amanda v3", age: 28,
                bio: "Looking for spontaneous adventures and deep conversations üí´",
                tools: [
                    {label: "Sync Labs lipsync-2", cls: "tag-sync"},
                    {label: "ElevenLabs Voice Clone", cls: "tag-elevenlabs"},
                    {label: "Real Video Lip-Sync", cls: "tag-sync"}
                ],
                reveal: "<strong>Sync Labs lip-sync on a different video clip.</strong> Same limitation ‚Äî the source video wasn't talking, so lips look off. For best results, record a video where you're actually speaking, then Sync Labs replaces WHAT you say."
            },
        ];

        let order = [], current = 0, isMuted = true;

        function toggleMute() {
            isMuted = !isMuted;
            const btn = document.getElementById('muteBtn');
            if (btn) btn.textContent = isMuted ? 'üîá' : 'üîä';
            const vid = document.querySelector('#currentCard video');
            if (vid) vid.muted = isMuted;
        }

        function shuffle(arr) {
            for (let i = arr.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [arr[i], arr[j]] = [arr[j], arr[i]];
            }
            return arr;
        }

        function init() {
            // Amanda blonde first, then shuffle rest
            order = [PROFILES[0], ...shuffle([...PROFILES.slice(1)])];
            current = 0;
            document.getElementById('scoreMax').textContent = order.length;
            document.getElementById('counter').innerHTML = order.map((_, i) =>
                `<div class="dot${i === 0 ? ' active' : ''}" id="dot${i}"></div>`
            ).join('');
            document.getElementById('bottomArea').style.display = '';
            renderCard();
        }

        function renderCard() {
            if (current >= order.length) { showEnd(); return; }
            document.getElementById('scoreIdx').textContent = current + 1;
            const stack = document.getElementById('cardStack');
            const p = order[current];
            const card = document.createElement('div');
            card.className = 'card';
            card.id = 'currentCard';

            const vid = document.createElement('video');
            vid.src = p.video;
            vid.setAttribute('playsinline', '');
            vid.setAttribute('webkit-playsinline', '');
            vid.loop = true;
            vid.muted = isMuted;
            vid.autoplay = true;
            vid.preload = 'auto';
            card.appendChild(vid);
            vid.play().catch(() => {});

            const muteBtn = document.createElement('button');
            muteBtn.className = 'mute-btn';
            muteBtn.id = 'muteBtn';
            muteBtn.textContent = isMuted ? 'üîá' : 'üîä';
            muteBtn.onclick = function(e) { e.stopPropagation(); toggleMute(); };
            card.appendChild(muteBtn);

            const info = document.createElement('div');
            info.className = 'card-info';
            const toolsHtml = p.tools.map(t => `<span class="tool-tag ${t.cls}">${t.label}</span>`).join('');
            info.innerHTML = `
                <div class="card-name">${p.name}, ${p.age}</div>
                <div class="card-bio">${p.bio}</div>
                <div class="card-tools">${toolsHtml}</div>`;
            card.appendChild(info);

            const old = stack.querySelector('.card:not(.exiting-left):not(.exiting-right)');
            if (old) old.remove();
            stack.appendChild(card);

            // Preload next
            if (current + 1 < order.length) {
                const link = document.createElement('link');
                link.rel = 'prefetch';
                link.href = order[current + 1].video;
                document.head.appendChild(link);
            }

            for (let i = 0; i < order.length; i++) {
                const dot = document.getElementById('dot' + i);
                if (dot) dot.className = 'dot' + (i < current ? ' seen' : i === current ? ' active' : '');
            }
        }

        function next(hot) {
            // Show reveal
            const p = order[current];
            const overlay = document.getElementById('revealOverlay');
            document.getElementById('revealTitle').textContent = 'üõ†Ô∏è How this was made';
            document.getElementById('revealDetail').innerHTML = p.reveal;
            overlay.classList.add('show');

            overlay.onclick = function() {
                overlay.classList.remove('show');
                overlay.onclick = null;
                const card = document.getElementById('currentCard');
                if (card) {
                    card.id = '';
                    card.classList.add(hot ? 'exiting-right' : 'exiting-left');
                    const vid = card.querySelector('video');
                    if (vid) vid.pause();
                }
                current++;
                setTimeout(renderCard, 300);
            };
        }

        function showEnd() {
            const stack = document.getElementById('cardStack');
            stack.innerHTML = `
                <div style="display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;padding:24px;text-align:center">
                    <div style="font-size:3rem;margin-bottom:12px">üõ†Ô∏è</div>
                    <div style="font-family:Impact;font-size:2rem;text-transform:uppercase;margin-bottom:12px">TOOL COMPARISON</div>
                    <div style="font-size:0.8rem;color:#999;line-height:1.6;max-width:300px;margin-bottom:20px">
                        <strong style="color:#FFA500">HeyGen Avatar IV</strong> ‚Äî Photo ‚Üí animated talking video<br>
                        <strong style="color:#a5b4fc">Sync Labs lipsync-2</strong> ‚Äî Real video ‚Üí lip replacement<br>
                        <strong style="color:#00c896">ElevenLabs</strong> ‚Äî Voice cloning from 7s recording<br>
                        <strong style="color:#ddd">OpenAI gpt-image-1</strong> ‚Äî AI hair color editing<br><br>
                        <span style="color:#666">9 profiles, all from one person's photos + 2 video clips</span>
                    </div>
                    <div style="font-size:0.7rem;color:#555;line-height:1.5;max-width:280px;margin-bottom:24px">
                        HeyGen: $99/mo (Pro) ‚Äî best for photo avatars<br>
                        Sync Labs: $5/mo + $0.05/sec ‚Äî best for real video lip-sync<br>
                        ElevenLabs: shared key ‚Äî instant voice clone<br>
                        OpenAI: pay-per-use ‚Äî image editing
                    </div>
                    <button onclick="init()" style="padding:14px 36px;font-family:Impact;font-size:1.2rem;border:none;border-radius:14px;background:linear-gradient(135deg,#FF4500,#FF6347);color:#fff;cursor:pointer;text-transform:uppercase;letter-spacing:2px;box-shadow:0 4px 20px rgba(255,69,0,0.4)">
                        WATCH AGAIN üîÑ
                    </button>
                </div>`;
            document.getElementById('bottomArea').style.display = 'none';
        }

        // Touch swipe
        let touchStartX = 0, touchDeltaX = 0;
        document.addEventListener('touchstart', e => { touchStartX = e.touches[0].clientX; }, { passive: true });
        document.addEventListener('touchmove', e => {
            touchDeltaX = e.touches[0].clientX - touchStartX;
            const card = document.getElementById('currentCard');
            if (card && Math.abs(touchDeltaX) > 10) {
                card.style.transition = 'none';
                card.style.transform = `translateX(${touchDeltaX * 0.5}px) rotate(${touchDeltaX * 0.03}deg)`;
            }
        }, { passive: true });
        document.addEventListener('touchend', () => {
            const card = document.getElementById('currentCard');
            if (!card) return;
            card.style.transition = '';
            if (Math.abs(touchDeltaX) > 80) {
                next(touchDeltaX > 0);
            } else {
                card.style.transform = '';
            }
            touchDeltaX = 0;
        });

        init();
    </script>
</body>
</html>
