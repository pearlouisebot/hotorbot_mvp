<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>HotOrBot üî•ü§ñ</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üî•</text></svg>">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Impact&family=Inter:wght@400;600;700;900&display=swap');
        *{margin:0;padding:0;box-sizing:border-box}
        body{background:#000;color:#fff;font-family:'Inter',sans-serif;overflow:hidden;height:100vh;height:100dvh;display:flex;flex-direction:column;align-items:center;justify-content:center;-webkit-user-select:none;user-select:none}

        .app{width:100%;max-width:420px;height:100%;display:flex;flex-direction:column;position:relative}

        .top-bar{display:flex;align-items:center;justify-content:center;padding:12px 16px;z-index:10}
        .logo{font-family:'Impact',sans-serif;font-size:1.6rem;text-transform:uppercase}
        .logo .hot{color:#FF4500;text-shadow:0 0 20px rgba(255,69,0,0.6)}
        .logo .or{color:#555;font-size:0.5em;vertical-align:middle;margin:0 0.1em}
        .logo .bot{color:#00BFFF;text-shadow:0 0 20px rgba(0,191,255,0.6)}

        .card-stack{flex:1;position:relative;margin:0 16px;overflow:hidden;border-radius:20px}
        .card{position:absolute;top:0;left:0;width:100%;height:100%;border-radius:20px;overflow:hidden;background:#111;transition:transform 0.4s ease,opacity 0.4s ease}
        .card.exiting-left{transform:translateX(-120%) rotate(-15deg);opacity:0}
        .card.exiting-right{transform:translateX(120%) rotate(15deg);opacity:0}
        .card video{width:100%;height:100%;object-fit:cover;display:block}
        .card .emoji-fill{width:100%;height:100%;display:flex;align-items:center;justify-content:center;font-size:8rem;background:linear-gradient(135deg,#1a1a2e,#16213e)}

        .card-info{position:absolute;bottom:0;left:0;right:0;padding:20px;background:linear-gradient(transparent,rgba(0,0,0,0.85));z-index:2}
        .card-name{font-family:'Impact',sans-serif;font-size:1.8rem;text-transform:uppercase;letter-spacing:1px}

        .progress{display:flex;gap:4px;justify-content:center;padding:8px 16px}
        .dot{width:8px;height:8px;border-radius:50%;background:#333;transition:background 0.3s}
        .dot.active{background:#FFD700}
        .dot.seen{background:#555}

        .bottom-area{padding:8px 16px 24px;text-align:center}
        .prompt{font-size:1rem;font-weight:700;color:#999;margin-bottom:8px}
        .vote-row{display:flex;gap:12px;justify-content:center}
        .vote-btn{flex:1;max-width:160px;padding:16px;font-family:'Impact',sans-serif;font-size:1.5rem;border:none;border-radius:16px;cursor:pointer;text-transform:uppercase;letter-spacing:2px;transition:all 0.15s;color:#fff;-webkit-tap-highlight-color:transparent}
        .vote-btn:active{transform:scale(0.92)}
        .vote-btn.not{background:linear-gradient(135deg,#333,#444);box-shadow:0 4px 20px rgba(0,0,0,0.5)}
        .vote-btn.hot{background:linear-gradient(135deg,#FF4500,#FF6347);box-shadow:0 4px 25px rgba(255,69,0,0.5)}
        .vote-btn.human{background:linear-gradient(135deg,#9B59B6,#8E44AD);box-shadow:0 4px 20px rgba(155,89,182,0.4)}
        .vote-btn.bot-btn{background:linear-gradient(135deg,#0077B6,#00BFFF);box-shadow:0 4px 20px rgba(0,191,255,0.4)}

        .mute-btn{position:absolute;top:12px;right:12px;z-index:50;background:rgba(0,0,0,0.6);border:none;border-radius:50%;width:44px;height:44px;display:flex;align-items:center;justify-content:center;cursor:pointer;font-size:1.3rem;backdrop-filter:blur(8px);-webkit-tap-highlight-color:transparent}

        /* Reveal overlay */
        .reveal-overlay{position:absolute;top:0;left:0;right:0;bottom:0;display:flex;flex-direction:column;align-items:center;justify-content:center;background:rgba(0,0,0,0.8);z-index:40;border-radius:20px;opacity:0;pointer-events:none;transition:opacity 0.3s}
        .reveal-overlay.show{opacity:1;pointer-events:auto}
        .reveal-emoji{font-size:4rem;animation:pop 0.4s ease-out}
        .reveal-text{font-family:'Impact',sans-serif;font-size:2rem;text-transform:uppercase;margin:8px 0}
        .reveal-guess{font-weight:700;font-size:1rem;margin:4px 0}
        .reveal-guess.correct{color:#00FF88}
        .reveal-guess.wrong{color:#FF4500}
        .reveal-tap{color:#666;font-size:0.8rem;margin-top:12px}
        @keyframes pop{from{transform:scale(0.3);opacity:0}to{transform:scale(1);opacity:1}}

        .hidden{display:none!important}
    </style>
</head>
<body>
    <div class="app">
        <div class="top-bar">
            <div class="logo"><span class="hot">HOT</span><span class="or">or</span><span class="bot">BOT</span></div>
        </div>

        <div class="progress" id="progress"></div>

        <div class="card-stack" id="cardStack">
            <div class="reveal-overlay" id="revealOverlay">
                <div class="reveal-emoji" id="revealEmoji"></div>
                <div class="reveal-text" id="revealText"></div>
                <div class="reveal-guess" id="revealGuess"></div>
                <div class="reveal-tap">tap to continue</div>
            </div>
        </div>

        <div class="bottom-area" id="bottomArea">
            <div class="prompt" id="prompt">Feel the vibe?</div>
            <div class="vote-row" id="voteRow">
                <button class="vote-btn not" onclick="voteHot(false)">‚ùå NOT</button>
                <button class="vote-btn hot" onclick="voteHot(true)">üî• HOT</button>
            </div>
        </div>
    </div>

    <script>
        const PROFILES = [
            { url: "assets/amanda_hiker_hacker_v2_final.mp4", name: "Amanda", age: 28, isBot: true, first: true },
            { url: "", name: "Jessica", age: 26, isBot: false, emoji: "üë©‚Äçü¶∞" },
            { url: "", name: "Priya", age: 29, isBot: true, emoji: "üíÉ" },
            { url: "", name: "Marcus", age: 31, isBot: false, emoji: "üòé" },
            { url: "", name: "Taylor", age: 24, isBot: true, emoji: "üßë‚Äçüé§" },
            { url: "", name: "Kenji", age: 27, isBot: false, emoji: "ü§ô" },
            { url: "", name: "Olivia", age: 25, isBot: true, emoji: "üå∏" },
            { url: "", name: "Darius", age: 30, isBot: false, emoji: "üî•" },
        ];

        let order = [], current = 0, phase = 'hot', isMuted = true;

        function toggleMute() {
            isMuted = !isMuted;
            const btn = document.getElementById('muteBtn');
            if (btn) btn.textContent = isMuted ? 'üîá' : 'üîä';
            const vid = document.querySelector('#currentCard video');
            if (vid) vid.muted = isMuted;
        }

        function init() {
            const amanda = PROFILES.filter(p => p.first);
            const rest = PROFILES.filter(p => !p.first);
            for (let i = rest.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [rest[i], rest[j]] = [rest[j], rest[i]];
            }
            order = [...amanda, ...rest];
            current = 0;
            document.getElementById('progress').innerHTML = order.map((_, i) =>
                `<div class="dot${i === 0 ? ' active' : ''}" id="dot${i}"></div>`
            ).join('');
            showHotPhase();
            renderCard();
        }

        function showHotPhase() {
            phase = 'hot';
            document.getElementById('prompt').textContent = 'Feel the vibe?';
            document.getElementById('voteRow').innerHTML = `
                <button class="vote-btn not" onclick="voteHot(false)">‚ùå NOT</button>
                <button class="vote-btn hot" onclick="voteHot(true)">üî• HOT</button>`;
        }

        function showBotPhase() {
            phase = 'bot';
            document.getElementById('prompt').textContent = 'Real person or AI?';
            document.getElementById('voteRow').innerHTML = `
                <button class="vote-btn bot-btn" onclick="guessBot(true)">ü§ñ BOT</button>
                <button class="vote-btn human" onclick="guessBot(false)">üë§ REAL</button>`;
        }

        function renderCard() {
            if (current >= order.length) { init(); return; }
            const stack = document.getElementById('cardStack');
            const p = order[current];
            const card = document.createElement('div');
            card.className = 'card';
            card.id = 'currentCard';

            if (p.url) {
                const vid = document.createElement('video');
                vid.src = p.url;
                vid.setAttribute('playsinline', '');
                vid.setAttribute('webkit-playsinline', '');
                vid.loop = true;
                vid.muted = isMuted;
                vid.autoplay = true;
                card.appendChild(vid);
                vid.play().catch(() => {});
            } else {
                const em = document.createElement('div');
                em.className = 'emoji-fill';
                em.textContent = p.emoji || 'üòä';
                card.appendChild(em);
            }

            const muteBtn = document.createElement('button');
            muteBtn.className = 'mute-btn';
            muteBtn.id = 'muteBtn';
            muteBtn.textContent = isMuted ? 'üîá' : 'üîä';
            muteBtn.onclick = function(e) { e.stopPropagation(); toggleMute(); };
            card.appendChild(muteBtn);

            const info = document.createElement('div');
            info.className = 'card-info';
            info.innerHTML = `<div class="card-name">${p.name}, ${p.age}</div>`;
            card.appendChild(info);

            const old = stack.querySelector('.card:not(.exiting-left):not(.exiting-right)');
            if (old) old.remove();
            stack.appendChild(card);

            for (let i = 0; i < order.length; i++) {
                const dot = document.getElementById('dot' + i);
                if (dot) dot.className = 'dot' + (i < current ? ' seen' : i === current ? ' active' : '');
            }
        }

        function voteHot(isHot) {
            showBotPhase();
        }

        function guessBot(guessedBot) {
            const p = order[current];
            const correct = (guessedBot === p.isBot);
            const overlay = document.getElementById('revealOverlay');
            document.getElementById('revealEmoji').textContent = p.isBot ? 'ü§ñ' : 'üë§';
            document.getElementById('revealText').textContent = p.isBot ? 'AI GENERATED!' : 'REAL PERSON!';
            document.getElementById('revealText').style.color = p.isBot ? '#00BFFF' : '#FF4500';
            const guess = document.getElementById('revealGuess');
            guess.textContent = correct ? '‚úÖ You got it!' : '‚ùå Fooled you!';
            guess.className = 'reveal-guess ' + (correct ? 'correct' : 'wrong');
            overlay.classList.add('show');

            // Tap to continue
            overlay.onclick = function() {
                overlay.classList.remove('show');
                overlay.onclick = null;
                const card = document.getElementById('currentCard');
                if (card) {
                    card.id = '';
                    card.classList.add('exiting-right');
                    const vid = card.querySelector('video');
                    if (vid) vid.pause();
                }
                current++;
                showHotPhase();
                setTimeout(renderCard, 300);
            };
        }

        // Touch swipe (only during hot phase)
        let touchStartX = 0, touchDeltaX = 0;
        document.addEventListener('touchstart', e => { touchStartX = e.touches[0].clientX; }, { passive: true });
        document.addEventListener('touchmove', e => {
            if (phase !== 'hot') return;
            touchDeltaX = e.touches[0].clientX - touchStartX;
            const card = document.getElementById('currentCard');
            if (card && Math.abs(touchDeltaX) > 10) {
                card.style.transition = 'none';
                card.style.transform = `translateX(${touchDeltaX * 0.5}px) rotate(${touchDeltaX * 0.03}deg)`;
            }
        }, { passive: true });
        document.addEventListener('touchend', () => {
            if (phase !== 'hot') { touchDeltaX = 0; return; }
            const card = document.getElementById('currentCard');
            if (!card) return;
            card.style.transition = '';
            if (Math.abs(touchDeltaX) > 80) {
                voteHot(touchDeltaX > 0);
            } else {
                card.style.transform = '';
            }
            touchDeltaX = 0;
        });

        init();
    </script>
</body>
</html>
